---
title: "ConstructModels"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{ConstructModels}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
)
```

```{r setup}
library(EpiStrainDynamics)
```

Here I add information about constructing the models. 

We extend an existing statistical modelling framework for inferring the trends of up to two pathogens [1,2]. The mixed-effects Bayesian P-spline model (described in [1]) can infer the temporal trends of two competing variants from a time series of infection prevalence data (daily number of positive and negative tests) and data describing the variant identified for a subset of sequenced positive specimens. We have extended this model to: handle any number of pathogens; fit to time series data of counts (e.g. daily number of cases); incorporate influenza testing data in which the subtype for influenza A samples may be undetermined; account for day-of-the-week effects in daily data; include options for fitting penalised splines or random walks; support additional (optional) correlation structures in the parameters describing the smoothness of the penalised splines (or random walks); and include additional (optional) sources of noise in the observation process.

Subtyped data
In an example where we want to examine teh long-term dynamics of influenza subtypes in Australia. So we will be using 

There are six total stan models that are 

We have teh following functions   
- construct_model
      - multiple
      - subtyped
      - single
      - p_spline
      - random_walk
