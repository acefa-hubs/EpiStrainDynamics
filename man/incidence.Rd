% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/incidence.R
\name{incidence}
\alias{incidence}
\alias{incidence.ps}
\alias{incidence.rw}
\alias{incidence.ps_single}
\alias{incidence.rw_single}
\title{Generic Method for Incidence Analysis}
\usage{
incidence(fitted_model, dow = NULL, ...)

\method{incidence}{ps}(fitted_model, dow = NULL, ...)

\method{incidence}{rw}(fitted_model, dow = NULL, ...)

\method{incidence}{ps_single}(fitted_model, dow = NULL, ...)

\method{incidence}{rw_single}(fitted_model, dow = NULL, ...)
}
\arguments{
\item{fitted_model}{Fitted model object with class \code{EpiStrainDynamics.fit}}

\item{dow}{Logical indicating whether to include day-of-week effects.
If \code{NULL} or \code{NA} (default), uses the day-of-week setting from
the fitted model. If \code{TRUE}, includes day-of-week effects (model must
have been fitted with \code{dow_effect = TRUE}). If \code{FALSE}, excludes
day-of-week effects.}

\item{...}{Additional arguments passed to metrics calculation}
}
\value{
named list of class \code{EpiStrainDynamics.metric} containing a dataframe
of the calculated metric outcome (\verb{$measure}), the fit object (\verb{$fit}), and the
constructed model object (\verb{$constructed_model}). The \code{measure} data frame
contains the median of the epidemiological quantity (\code{y}), the 50\% credible
interval of the quantity (\code{lb_50} & \code{ub_50}), the 95\% credible interval
(\code{lb_95} & \code{ub_95}), the proportion greater than a defined threshold value
(\code{prop}), the pathogen name (\code{pathogen}), and the time label (\code{time}).
}
\description{
Computes epidemiological incidence, defined as the number of new cases
occurring at a specific time point, derived by exponentiating the
log-incidence estimates from the fitted model:
\deqn{I_t = \exp(\log\text{-incidence}_t)}
}
\details{
This metric quantifies the \strong{absolute number of new cases} at each time
point, where it is:
\itemize{
\item Always positive (since it's an exponentiated value)
\item Represents the expected case count at time t
\item Can be adjusted for day-of-week effects when modeled
\item Provides uncertainty quantification through posterior credible intervals
}

\strong{Day-of-week adjustment}: When day-of-week effects are included in the model,
the incidence is further adjusted as:
\deqn{I_t^{adj} = I_t \times \text{week\_effect} \times \text{dow\_simplex}[\text{DOW}(t)]}

This accounts for systematic variations in case reporting or transmission
patterns across different days of the week (e.g., lower weekend reporting,
higher weekday transmission).

This metric function can be run directly on the fitted model output.
}
\examples{
\dontrun{
  mod <- construct_model(
    method = random_walk(),
    pathogen_structure = single(
      case_timeseries = sarscov2$cases,
      time = sarscov2$date))

  fit <- fit_model(mod)

  # Use model's dow setting (default)
  inc <- incidence(fit)

  # Explicitly exclude dow effects
  inc_no_dow <- incidence(fit, dow = FALSE)

  # Explicitly include dow effects (if model has them)
  inc_with_dow <- incidence(fit, dow = TRUE)
}
}
\seealso{
Other metrics: 
\code{\link{Rt}()},
\code{\link{growth_rate}()},
\code{\link{proportion}()}
}
\concept{metrics}
